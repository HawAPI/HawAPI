<?xml version="1.0" encoding="UTF-8"?>
<hazelcast xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xmlns="http://www.hazelcast.com/schema/config"
           xsi:schemaLocation="http://www.hazelcast.com/schema/config
           http://www.hazelcast.com/schema/config/hazelcast-config-4.1.xsd">

    <map name="requestRateLimit">
        <time-to-live-seconds>60</time-to-live-seconds>
        <in-memory-format>BINARY</in-memory-format>
        <metadata-policy>CREATE_ON_UPDATE</metadata-policy>
        <statistics-enabled>true</statistics-enabled>
    </map>

    <cp-subsystem>
        <!--
            "By default, CP Subsystem runs in unsafe mode, which means it is disabled.
            To enable the CP Subsystem, you must first configure a non-zero value for
            the cp-member-count option:"

            Ref: https://docs.hazelcast.com/hazelcast/5.2/cp-subsystem/configuration
         -->
        <cp-member-count>3</cp-member-count>
    </cp-subsystem>

    <cache name="rate-limit-buckets"/>

</hazelcast>